- [订单轨迹od查询](#订单轨迹od查询)
- [订单path查询息](#订单path查询息)

## 订单轨迹OD查询接口
### url:
/api/od

## 订单轨迹od查询
获取指定link条件+时间条件，根据type查询指定O/D订单轨迹详细
#### uri:
/traj/list
#### metord:
GET/POST
#### 请求格式
application/x-www-form-urlencoded; charset=UTF-8
#### 请求参数
| 参数名称  | 是否必选 |  类型  |     描述       |
|-------|------|----|------------|
| linkid | 是 | String | 74544301-74544301,74544301 (';'且关系，','或关系，'-'且关系)|
| start | 是 | int | 1522717200|
| end | 是 | int | 1522728000，defaultValue="0"|
| size | 否 | int | 2，defaultValue="1000" |
| from | 否 | int |指定返回订单开始位置, defaultValue="0" |
| type | 否 | int | 0: Origin, 1: Destination, -1: Pass， defaultValue="-1"|
| index | 否 | String | default:3,8,9； 全部：all； [index说明](http://wiki.intra.xiaojukeji.com/pages/viewpage.action?pageId=116565675)|

####  响应参数
| 参数名称  |  类型  |     描述       |
|------|----|------------|
| stauts | Int | 错误码，1: 成功，0: 失败 |
| msg | String | 错误信息 |
| data | JsonArray | 返回数据list |
| total | int | 符合条件的总数 |
| data.pointList | Array | [[timestamp,[linkids],distance],[...],[...]] |
| data.orderInfo | Array | [order_id,driver_id,s_lon,s_lat,e_lon,e_lat,s_ts,e_ts] |


####  示例
#####  输入
```bash
curl "http://100.69.238.158:8001/api/traj/od/traj/list?linkid=720654241,720654250,720654261,720654270,720654281,720654570,720654590,720654611,720655150,720655151,720655160,720655161,720655170,720655171,720655180,720655181&start=1521939600&end=1521950400&type=0&size=2" 
```
#####  输出
```bash
{
    "msg":"",
    "total":4,
    "data":[
        {
            "pointList":[
                    1521945080,
                    [
                        720654611
                    ], ... [],
                    ],
            "orderInfo":[
                "b8458b2451453626999571",
                "0c2eaf5e7760686b7bebf50d0a6fcaa0",
                116.28466,
                40.04383,
                116.23533,
                40.0685,
                1521945078,
                1521945938
            ]
        },
        {
            "pointList":[
                    1521947198,
                    [
                        720654250
                    ],...[]
                    ],
            "orderInfo":[
                "0e72b0b347223136999571",
                "0b96e4a5795b2833466961171ea6a263",
                116.28459,
                40.04402,
                116.23547,
                40.06821,
                1521947198,
                1521948072
            ]
        }
    ],
    "rid":"",
    "status":1
}

```

## 订单path查询
获取指定link条件+时间条件，根据type查询订单path
#### uri:
/path/list
#### metord:
GET/POST
#### 请求格式
application/x-www-form-urlencoded; charset=UTF-8
#### 请求参数
| 参数名称  | 是否必选 |  类型  |     描述       |
|-------|------|----|------------|
| linkid | 是 | String | 74544301-74544301,74544301 (';'且关系，','或关系，'-'且关系)|
| start | 是 | int | 1522717200|
| end | 是 | int | 1522728000，defaultValue="0"|
| size | 否 | int | 2，defaultValue="1000" |
| type | 否 | int | 0: Origin, 1: Destination, -1: Pass，defaultValue="-1" |
| from | 否 | int |指定返回订单开始位置, defaultValue="0" |

####  响应参数
| 参数名称  |  类型  |     描述       |
|------|----|------------|
| stauts | Int | 错误码，1: 成功，0: 失败 |
| msg | String | 错误信息 |
| data | JsonArray | 返回数据list |
| total | int | 符合条件的总数 |


####  示例
#####  输入
```bash
curl "http://100.69.238.158:8001/api/traj/od/path/list?linkid=720654241,720654250,720654261,720654270,720654281,720654570,720654590,720654611,720655150,720655151,720655160,720655161,720655170,720655171,720655180,720655181&start=1521939600&end=1521950400&type=0&size=2" ```
```
#####  输出
```bash
{
    "msg":"",
    "total":4,
    "data":[
        "720654611,720654281,720654281,720654281,720654261,720654241,720654241,720654221,720654221,720654221,621180631,621180621,90000220175611,90000220175611,90000220086871,90000239738781,90000239738781,90000239738781,90000239738781,90000239738781,90000239738781,90000240221501,90000240221501,90000240221501,90000239738821,90000239738821,90000239918621,720654871,720653880,720653900,720653900,720653900,720653900,720653900,720653900,720653900,720653900,720653960,90000240005550,90000240005550,90000240005550,90000240005550,90000240005550,90000240005550,90000240005550,90000240005550,90000239609990,90000239609990,90000239609990,720654750,720654750,720654750,720654750,720654750,720654750,720654750,720654750,879017391,317728351,317728341,317728341,317728341,317728341,317728341,317728341,195719611,6895761,6880901,6880901,6880901,6895730,6880920,6895740,317728320,317728320,317728320,317728320,317728320,317728320,317728320,317728330,317728330,195719650,195719660,195719660,6880860,6880860,6880860,6880860,6880860,6880860,6880860,6880810,192580030,192580030,192580030,192580040,603949890,603949890,603949890,603949890,603949900,603949900,7031900,7031950,879017360,879017370,879017370,879017370,879017370,879017370,879017370,879017370,879017370,879017370,500477020,500477020,500477030,500477030,6895950,6895950,433317000,433317010,433317010,706182130,706182130,7031770,6997360,7031810,7031820,7031820,7031820,7031820,7031820,6997420,6997420,6997420,7111770,7111770,7111770,7111780,7111780,7111780,7016800,718743280,718743290,718743290,7033021,7033011,173103701,173103741,173103741,173103741,173103781,173103771,173103831,173103821,603949870,603949870,603949870,603949870,603949870,603949870,603949880,603949880,603949880,603949880,603949880,603949880,603949880,603949880,7032930,7032940,7032980,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7032990,7015250,7015250,7015250,7015250,7015260,7110580,879016080,879016080,879016090,879016090,879016090,500479260,500479260,500479260,500479260,500479260,500479340,500479350,155698000,155698000,155698010,155698010,7107700,724955730,724955730,724955730,724955730,724955730,724955730,724955740,5859911,852809711,852809711,852809731,852809721,414847261,414847261,414847261,414847261,414847261,414847251,414847251,414847251,414847251,5787771,5921430,5906220,5906220,5906220,5906220,5906220,5906220,5906220,5906220,5906220,5906220,5906230,5906230,5906230,5906230,5906230,5906241,5906241,5906241,5906241,5906241,5906241,5773641,415759311,415759311,415759301,415759301,403348601,403348601,403348601,403348601,403348601,403348601,403348601,403348591,403348591,879053651,879053651,879053651,879053651,879053651,879053651,879053651,403348581,403348581,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,879053610,879053610,879053610,879054240,879054240,879054240,879054240,879054240,879054240,879054240,879054240,879054240,879054240",
        "720654250,720654250,720654270,720654270,720654270,720654270,720654270,720654270,720654270,720654270,720654290,720654290,720654590,720654590,720654590,720654590,720654590,720654580,720654580,720654580,720654580,720654580,720654580,720654580,720654510,720654520,720653230,720653230,720653230,720653250,720653270,720653290,720653310,720653310,720653310,720653741,621181640,621181640,621181650,720654360,621181600,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,621181610,720653441,90000229585750,90000229585750,90000229585750,90000229585750,90000229643150,90000229643150,90000229643150,90000229643150,90000229643150,90000229643150,422556151,422556151,422556151,422556151,90000227780101,90000227840541,90000227840541,90000227840541,90000227840541,90000227840541,90000227779661,90000227779661,90000219974761,90000220184931,90000220184931,720655291,720655291,720655291,720655291,720655291,720655291,720655291,720655291,720655291,720655291,720655281,720655261,720655261,720655261,299418741,299418741,195719731,195719731,195719731,195719731,195719731,195719731,195719731,195719731,195719731,195719731,195719731,195719731,195719731,6985831,6921581,6921581,6921571,6921571,173103631,173103631,173103631,173103631,90000237989561,90000238165851,90000238165851,6926181,6926181,6926181,6926181,6926181,6926181,6926181,6926181,6926181,6926171,6926171,6926171,6926171,195719570,195719570,195719570,195719580,195719580,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073361,7073351,7033021,7033011,173103701,173103741,173103741,173103781,173103771,173103831,173103821,603949870,603949870,603949870,603949870,603949870,603949880,7032930,7032940,7032980,7032990,7032990,7032990,7032990,7032990,7032990,7015250,7015250,7015250,7015260,7110580,879016080,879016080,879016090,879016090,879016090,500479260,500479260,500479260,500479260,500479340,500479350,155698000,155698000,155698010,7107700,7107700,724955730,724955730,724955730,724955730,724955730,724955740,5859911,852809711,852809731,852809721,414847261,414847261,414847261,414847261,414847261,414847261,414847251,414847251,414847251,414847251,414847251,414847251,414847251,414847251,414847251,414847251,414847251,5787771,5921430,5906220,5906230,5906230,5906230,5906230,5906241,5906241,5906241,5906241,5906241,5906241,5773641,415759311,415759311,415759301,403348601,403348601,403348601,403348601,403348591,879053651,879053651,879053651,879053651,879053651,879053651,403348581,403348581,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,403348571,879053610,879053610,879053610,879054240,879054240,879054240,879054240,879054240,879054240,879054240,879054240,879054240,879054240,879054240,879054240"
    ],
    "rid":"",
    "status":1
}

```